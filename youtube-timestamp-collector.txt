{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"YouTube Timestamp Recorder","options":{"check_for_updates":true,"user_modified":1731517831413,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"run_in":null,"tags":[],"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://www.youtube.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_run_in":[],"orig_noframes":null,"orig_tags":[]}},"storage":{"ts":1731516981802,"data":{}},"enabled":true,"position":1,"uuid":"8c21473f-e885-498e-b4bb-cc94cfdcaeb4","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBZb3VUdWJlIFRpbWVzdGFtcCBSZWNvcmRlcgovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly90YW1wZXJtb25rZXkubmV0LwovLyBAdmVyc2lvbiAgICAgIDEuMQovLyBAZGVzY3JpcHRpb24gIFJlY29yZHMgdGltZXN0YW1wcyBpbiBZb3VUdWJlIHZpZGVvcyB3aXRoIGEgaG90a2V5Ci8vIEBhdXRob3IgICAgICAgWW91Ci8vIEBtYXRjaCAgICAgICAgKjovL3d3dy55b3V0dWJlLmNvbS8qCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICAvLyBLZXkgdG8gcHJlc3MgZm9yIHJlY29yZGluZyB0aW1lc3RhbXAKICAgIGNvbnN0IGhvdGtleSA9ICdgJzsgLy8gQ2hhbmdlIHRoaXMgdG8geW91ciBwcmVmZXJyZWQga2V5CgogICAgLy8gQXJyYXkgdG8gc3RvcmUgdGltZXN0YW1wcwogICAgbGV0IHRpbWVzdGFtcHMgPSBbXTsKCiAgICAvLyBGdW5jdGlvbiB0byBnZXQgdGhlIGN1cnJlbnQgdGltZXN0YW1wIG9mIHRoZSB2aWRlbwogICAgZnVuY3Rpb24gZ2V0VGltZXN0YW1wKCkgewogICAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTsKICAgICAgICBpZiAodmlkZW8pIHsKICAgICAgICAgICAgbGV0IGN1cnJlbnRUaW1lID0gdmlkZW8uY3VycmVudFRpbWU7CiAgICAgICAgICAgIGxldCBmb3JtYXR0ZWRUaW1lID0gZm9ybWF0VGltZShjdXJyZW50VGltZSk7CiAgICAgICAgICAgIHRpbWVzdGFtcHMucHVzaChmb3JtYXR0ZWRUaW1lKTsKICAgICAgICAgICAgY29uc29sZS5sb2coIlRpbWVzdGFtcCBhZGRlZDogIiArIGZvcm1hdHRlZFRpbWUpOwogICAgICAgICAgICBkaXNwbGF5VGltZXN0YW1wcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJObyB2aWRlbyBlbGVtZW50IGZvdW5kIik7CiAgICAgICAgfQogICAgfQoKICAgIC8vIEZ1bmN0aW9uIHRvIGZvcm1hdCBzZWNvbmRzIGludG8gSEg6TU06U1MKICAgIGZ1bmN0aW9uIGZvcm1hdFRpbWUoc2Vjb25kcykgewogICAgICAgIGxldCBocnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTsKICAgICAgICBsZXQgbWlucyA9IE1hdGguZmxvb3IoKHNlY29uZHMgJSAzNjAwKSAvIDYwKTsKICAgICAgICBsZXQgc2VjcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAlIDYwKTsKICAgICAgICByZXR1cm4gKGhycyA+IDAgPyBocnMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpICsgIjoiIDogIjA6IikgKwogICAgICAgICAgICBtaW5zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKSArICI6IiArCiAgICAgICAgICAgIHNlY3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOwogICAgfQoKICAgIC8vIEZ1bmN0aW9uIHRvIGRpc3BsYXkgdGltZXN0YW1wcyBpbiBwYWlycyBhbmQgYWRkIGEgIkNvcHkiIGJ1dHRvbgogICAgZnVuY3Rpb24gZGlzcGxheVRpbWVzdGFtcHMoKSB7CiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lc3RhbXBDb250YWluZXInKTsKICAgICAgICBpZiAoIWNvbnRhaW5lcikgewogICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgY29udGFpbmVyLmlkID0gJ3RpbWVzdGFtcENvbnRhaW5lcic7CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnMTBweCc7CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5yaWdodCA9ICcxMHB4JzsKICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkIGJsYWNrJzsKICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7CiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXhIZWlnaHQgPSAnMjAwcHgnOwogICAgICAgICAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3dZID0gJ2F1dG8nOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7CiAgICAgICAgfQoKICAgICAgICAvLyBDbGVhciB0aGUgY29udGFpbmVyCiAgICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gJyc7CiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHJvbmcnKTsKICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9ICdSZWNvcmRlZCBUaW1lc3RhbXBzIChTdGFydCBcdCBFbmQpOic7CiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTsKCiAgICAgICAgLy8gRGlzcGxheSB0aW1lc3RhbXBzIGluIHBhaXJzCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lc3RhbXBzLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcExpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSB0aW1lc3RhbXBzW2ldOwogICAgICAgICAgICBjb25zdCBlbmQgPSB0aW1lc3RhbXBzW2kgKyAxXSB8fCAnJzsgLy8gQWRkIGFuIGVtcHR5IGVuZCBpZiB0aGVyZSdzIGFuIG9kZCBudW1iZXIKICAgICAgICAgICAgdGltZXN0YW1wTGluZS50ZXh0Q29udGVudCA9IGAke3N0YXJ0fSAgICAke2VuZH1gOyAvLyBWaXN1YWxseSBzcGFjZWQKICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpbWVzdGFtcExpbmUpOwogICAgICAgIH0KCiAgICAgICAgLy8gQWRkIGEgY29weSBidXR0b24KICAgICAgICBsZXQgY29weUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3B5QnV0dG9uJyk7CiAgICAgICAgaWYgKCFjb3B5QnV0dG9uKSB7CiAgICAgICAgICAgIGNvcHlCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgY29weUJ1dHRvbi5pZCA9ICdjb3B5QnV0dG9uJzsKICAgICAgICAgICAgY29weUJ1dHRvbi50ZXh0Q29udGVudCA9ICdDb3B5IFRpbWVzdGFtcHMnOwogICAgICAgICAgICBjb3B5QnV0dG9uLnN0eWxlLm1hcmdpblRvcCA9ICcxMHB4JzsKICAgICAgICAgICAgY29weUJ1dHRvbi5vbmNsaWNrID0gY29weVRpbWVzdGFtcHM7CiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb3B5QnV0dG9uKTsKICAgICAgICB9CgogICAgICAgIC8vIEFkZCBhIGNsZWFyIGJ1dHRvbgogICAgICAgIGxldCBjbGVhckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhckJ1dHRvbicpOwogICAgICAgIGlmICghY2xlYXJCdXR0b24pIHsKICAgICAgICAgICAgY2xlYXJCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICAgICAgY2xlYXJCdXR0b24uaWQgPSAnY2xlYXJCdXR0b24nOwogICAgICAgICAgICBjbGVhckJ1dHRvbi50ZXh0Q29udGVudCA9ICdDbGVhciBUaW1lc3RhbXBzJzsKICAgICAgICAgICAgY2xlYXJCdXR0b24uc3R5bGUubWFyZ2luVG9wID0gJzVweCc7CiAgICAgICAgICAgIGNsZWFyQnV0dG9uLm9uY2xpY2sgPSBjbGVhclRpbWVzdGFtcHM7CiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbGVhckJ1dHRvbik7CiAgICAgICAgfQogICAgfQoKICAgIC8vIEZ1bmN0aW9uIHRvIGNvcHkgdGhlIHRpbWVzdGFtcHMgYXMgdGFiLXNlcGFyYXRlZCBwYWlycwogICAgZnVuY3Rpb24gY29weVRpbWVzdGFtcHMoKSB7CiAgICAgICAgY29uc3QgdGV4dCA9IHRpbWVzdGFtcHMKICAgICAgICAucmVkdWNlKChhY2MsIHRpbWVzdGFtcCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgaWYgKGluZGV4ICUgMiA9PT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIHRpbWVzdGFtcCArICJcdCI7IC8vIFN0YXJ0IHRpbWVzdGFtcCB3aXRoIHRhYgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGFjYyArIHRpbWVzdGFtcCArICJcbiI7IC8vIEVuZCB0aW1lc3RhbXAgd2l0aCBuZXdsaW5lCiAgICAgICAgICAgIH0KICAgICAgICB9LCAiIikKICAgICAgICAudHJpbSgpOwoKICAgICAgICAvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgdGV4dGFyZWEgdG8gY29weSBmcm9tCiAgICAgICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpOwogICAgICAgIHRleHRBcmVhLnZhbHVlID0gdGV4dDsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTsKICAgICAgICB0ZXh0QXJlYS5zZWxlY3QoKTsKICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpOwogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpOwogICAgICAgIGFsZXJ0KCJUaW1lc3RhbXBzIGNvcGllZCB0byBjbGlwYm9hcmQhIik7CiAgICB9CgogICAgLy8gRnVuY3Rpb24gdG8gY2xlYXIgYWxsIHRpbWVzdGFtcHMKICAgIGZ1bmN0aW9uIGNsZWFyVGltZXN0YW1wcygpIHsKICAgICAgICB0aW1lc3RhbXBzID0gW107CiAgICAgICAgZGlzcGxheVRpbWVzdGFtcHMoKTsgLy8gUmVmcmVzaCB0aGUgZGlzcGxheSB0byBzaG93IGFuIGVtcHR5IGxpc3QKICAgIH0KCiAgICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgdGhlIGhvdGtleQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZiAoZS5rZXkgPT09IGhvdGtleSkgewogICAgICAgICAgICBnZXRUaW1lc3RhbXAoKTsKICAgICAgICB9CiAgICB9KTsKCn0pKCk7Cg=="}]}